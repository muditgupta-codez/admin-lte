{"ast":null,"code":"import _slicedToArray from\"W:/Codezesk/aermart/admin-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useState}from\"react\";import axios from\"../api/axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext({});export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState({token:localStorage.getItem(\"token\"),user:localStorage.getItem(\"user\")?JSON.parse(localStorage.getItem(\"user\")):null}||{}),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];// const [isLoading, setIsLoading] = useState(true);\n// useEffect(() => {\n//   if (!auth?.token) {\n//     return;\n//   }\n// const fetchUser = async () => {\n//   try {\n//     const response = await axios.get(\"/user/profile\", {\n//       headers: {\n//         authorization: \"Bearer \" + auth.token,\n//       },\n//     });\n//     console.log(response.data);\n//     setAuth({ ...auth, user: response.data.user });\n//     setIsLoading(false);\n//   } catch (err) {\n//     console.log(err);\n//   }\n// };\n// fetchUser();\n// }, []);\nreturn/*#__PURE__*/_jsx(AuthContext.Provider,{value:{auth:auth,setAuth:setAuth},children:children});};export default AuthContext;","map":{"version":3,"names":["createContext","useEffect","useState","axios","AuthContext","AuthProvider","children","token","localStorage","getItem","user","JSON","parse","auth","setAuth"],"sources":["W:/Codezesk/aermart/admin-frontend/src/context/AuthProvider.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport axios from \"../api/axios\";\r\nconst AuthContext = createContext({});\r\nexport const AuthProvider = ({ children }) => {\r\n  const [auth, setAuth] = useState(\r\n    {\r\n      token: localStorage.getItem(\"token\"),\r\n      user: localStorage.getItem(\"user\")\r\n        ? JSON.parse(localStorage.getItem(\"user\"))\r\n        : null,\r\n    } || {}\r\n  );\r\n  // const [isLoading, setIsLoading] = useState(true);\r\n  // useEffect(() => {\r\n  //   if (!auth?.token) {\r\n  //     return;\r\n  //   }\r\n  // const fetchUser = async () => {\r\n  //   try {\r\n  //     const response = await axios.get(\"/user/profile\", {\r\n  //       headers: {\r\n  //         authorization: \"Bearer \" + auth.token,\r\n  //       },\r\n  //     });\r\n  //     console.log(response.data);\r\n  //     setAuth({ ...auth, user: response.data.user });\r\n  //     setIsLoading(false);\r\n  //   } catch (err) {\r\n  //     console.log(err);\r\n  //   }\r\n  // };\r\n  // fetchUser();\r\n  // }, []);\r\n  return (\r\n    <AuthContext.Provider value={{ auth, setAuth }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\nexport default AuthContext;\r\n"],"mappings":"wHAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAOC,MAAK,KAAM,cAAc,CAAC,2CACjC,GAAMC,YAAW,cAAGJ,aAAa,CAAC,CAAC,CAAC,CAAC,CACrC,MAAO,IAAMK,aAAY,CAAG,QAAfA,aAAY,MAAqB,IAAfC,SAAQ,MAARA,QAAQ,CACrC,cAAwBJ,QAAQ,CAC9B,CACEK,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACpCC,IAAI,CAAEF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC9BE,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACxC,IACN,CAAC,EAAI,CAAC,CAAC,CACR,wCAPMI,IAAI,eAAEC,OAAO,eAQpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBACE,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAE,CAAED,IAAI,CAAJA,IAAI,CAAEC,OAAO,CAAPA,OAAQ,CAAE,UAC5CR,QAAQ,EACY,CAE3B,CAAC,CACD,cAAeF,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}